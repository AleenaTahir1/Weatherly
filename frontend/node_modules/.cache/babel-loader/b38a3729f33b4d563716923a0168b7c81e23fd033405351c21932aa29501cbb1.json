{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleen\\\\OneDrive\\\\Pictures\\\\Documents\\\\weatherly\\\\frontend\\\\src\\\\components\\\\CitySearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\nimport { WiMapPin } from 'react-icons/wi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CitySearch = ({\n  onCitySelect\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const debounceTimeout = useRef(null);\n  const searchCities = async query => {\n    if (!query.trim()) {\n      setSuggestions([]);\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await axios.get(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(query)}&count=5&language=en&format=json`);\n      if (response.data.results) {\n        setSuggestions(response.data.results.map(city => ({\n          name: city.name,\n          country: city.country,\n          admin1: city.admin1,\n          // State/Province\n          latitude: city.latitude,\n          longitude: city.longitude\n        })));\n      } else {\n        setSuggestions([]);\n      }\n    } catch (err) {\n      setError('Failed to fetch cities. Please try again.');\n      setSuggestions([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (debounceTimeout.current) {\n      clearTimeout(debounceTimeout.current);\n    }\n    if (searchTerm) {\n      debounceTimeout.current = setTimeout(() => {\n        searchCities(searchTerm);\n      }, 300);\n    }\n    return () => {\n      if (debounceTimeout.current) {\n        clearTimeout(debounceTimeout.current);\n      }\n    };\n  }, [searchTerm]);\n  const handleCitySelect = city => {\n    onCitySelect(city);\n    setSearchTerm('');\n    setSuggestions([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full max-w-md mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search for a city...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        className: \"w-full px-4 py-3 text-gray-700 bg-white/90 backdrop-blur-md border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute right-3 top-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: (suggestions.length > 0 || error) && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: -10\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          y: -10\n        },\n        className: \"absolute z-10 w-full mt-2 bg-white/90 backdrop-blur-md rounded-lg shadow-lg overflow-hidden\",\n        children: error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-3 text-red-500\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this) : suggestions.map((city, index) => /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            x: -20\n          },\n          animate: {\n            opacity: 1,\n            x: 0\n          },\n          transition: {\n            delay: index * 0.1\n          },\n          className: \"flex items-center px-4 py-3 cursor-pointer hover:bg-blue-50 transition-colors\",\n          onClick: () => handleCitySelect(city),\n          children: [/*#__PURE__*/_jsxDEV(WiMapPin, {\n            className: \"text-2xl text-blue-500 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium text-gray-800\",\n              children: city.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [city.admin1, city.country].filter(Boolean).join(', ')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 19\n          }, this)]\n        }, `${city.name}-${city.latitude}-${city.longitude}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(CitySearch, \"pR2kaiWCetEKnxuiKyJ35DKJ4XI=\");\n_c = CitySearch;\nexport default CitySearch;\nvar _c;\n$RefreshReg$(_c, \"CitySearch\");","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","axios","WiMapPin","jsxDEV","_jsxDEV","CitySearch","onCitySelect","_s","searchTerm","setSearchTerm","suggestions","setSuggestions","loading","setLoading","error","setError","debounceTimeout","searchCities","query","trim","response","get","encodeURIComponent","data","results","map","city","name","country","admin1","latitude","longitude","err","current","clearTimeout","setTimeout","handleCitySelect","className","children","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","length","div","initial","opacity","y","animate","exit","index","x","transition","delay","onClick","filter","Boolean","join","_c","$RefreshReg$"],"sources":["C:/Users/aleen/OneDrive/Pictures/Documents/weatherly/frontend/src/components/CitySearch.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\nimport { WiMapPin } from 'react-icons/wi';\n\nconst CitySearch = ({ onCitySelect }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const debounceTimeout = useRef(null);\n\n  const searchCities = async (query) => {\n    if (!query.trim()) {\n      setSuggestions([]);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await axios.get(\n        `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(query)}&count=5&language=en&format=json`\n      );\n\n      if (response.data.results) {\n        setSuggestions(response.data.results.map(city => ({\n          name: city.name,\n          country: city.country,\n          admin1: city.admin1, // State/Province\n          latitude: city.latitude,\n          longitude: city.longitude\n        })));\n      } else {\n        setSuggestions([]);\n      }\n    } catch (err) {\n      setError('Failed to fetch cities. Please try again.');\n      setSuggestions([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (debounceTimeout.current) {\n      clearTimeout(debounceTimeout.current);\n    }\n\n    if (searchTerm) {\n      debounceTimeout.current = setTimeout(() => {\n        searchCities(searchTerm);\n      }, 300);\n    }\n\n    return () => {\n      if (debounceTimeout.current) {\n        clearTimeout(debounceTimeout.current);\n      }\n    };\n  }, [searchTerm]);\n\n  const handleCitySelect = (city) => {\n    onCitySelect(city);\n    setSearchTerm('');\n    setSuggestions([]);\n  };\n\n  return (\n    <div className=\"relative w-full max-w-md mx-auto\">\n      <div className=\"relative\">\n        <input\n          type=\"text\"\n          placeholder=\"Search for a city...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"w-full px-4 py-3 text-gray-700 bg-white/90 backdrop-blur-md border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all\"\n        />\n        {loading && (\n          <div className=\"absolute right-3 top-3\">\n            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500\"></div>\n          </div>\n        )}\n      </div>\n\n      <AnimatePresence>\n        {(suggestions.length > 0 || error) && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            className=\"absolute z-10 w-full mt-2 bg-white/90 backdrop-blur-md rounded-lg shadow-lg overflow-hidden\"\n          >\n            {error ? (\n              <div className=\"px-4 py-3 text-red-500\">{error}</div>\n            ) : (\n              suggestions.map((city, index) => (\n                <motion.div\n                  key={`${city.name}-${city.latitude}-${city.longitude}`}\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className=\"flex items-center px-4 py-3 cursor-pointer hover:bg-blue-50 transition-colors\"\n                  onClick={() => handleCitySelect(city)}\n                >\n                  <WiMapPin className=\"text-2xl text-blue-500 mr-2\" />\n                  <div>\n                    <div className=\"font-medium text-gray-800\">{city.name}</div>\n                    <div className=\"text-sm text-gray-600\">\n                      {[city.admin1, city.country].filter(Boolean).join(', ')}\n                    </div>\n                  </div>\n                </motion.div>\n              ))\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default CitySearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}